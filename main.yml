---
- name: Install reims
  hosts: all
  roles:
    - backend
    - frontend
    - s3backup
    - update_script
    - monitoring
  become: true
  vars:
    # reset_docker_stack: true
    # db_dump: "{{ lookup('file', 'dump.sql', errors='warn') }}"
    reims2_db_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      38393939376534393861623839316563343839373364336464333063316261386662663264383737
      3035346539356335653035316131343166363263366632360a373661353165363534356165323138
      33323338376636393161383062353864366363383037313563656233373830316163366562393335
      3066646361666264660a323230666531396533353866633666356561303166356265633135353432
      37633661646332666266353232343439373765313232333837623332656565383838
    reims2_db_root_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      39663064326538313437356334376130313264353032643732643231646265313132663661616664
      3238326236366638643935353632303161353261316634390a656638393635343263336135373762
      34393364326637323834303133353539653130326461613238653437333630616461656436373032
      3838363866656466340a396631303238353231333262376365363465643730653834376665333664
      32373136316162336535306230613634326461336131626135393134663839633631
    reims2_jwt_secret: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      61313835653263643831623135346136323666323664393962633237386664313262383630323836
      3233363631653230663462333133313532646135333030610a376166633133636633613535336439
      64663064346161636331323239306334363536366337343763353035396437323462663863306438
      3537333265333831660a613036626437633862396136356263326264376530363831303932303133
      31336232383038363761303931653263393864393061393466636531396262346338363764316437
      37323734613362363531613464613434316566323937326636333962343031393365343833666136
      31356438353938636538616362363534613635633964343165373734343638643730376630336438
      61303936653961343861363134363162336165623862333334613130393739343461666238663033
      32646665633331613361613561323234353831346362353432616463616366306431336631636639
      32613163376466373063663738356435313964636461656434356264326565616330653339323361
      313035616432323538376138393431363434
    aws_key_id: AKIAYEM6NADWH3DNKDFE
    aws_secret_key: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      65653939373763346338623764643464303830376537626462333835316563343237313066316564
      3332356661626161356461633938316530316539396563380a343764343763633463393232353936
      31363663656462356266306231616661373736396265393663313035613133376461333162363234
      3333663438383664340a376336383363376462343265323335343962386563303737326365376130
      34393135313537373965326338626638353661326133343836653435393964343736346530343135
      6665336566316538343635383639666164363030336437643633
    monitoring_db_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      30646131656539636538646266386634386236343463373537353464363734343564663063646363
      3063316430643231303331636634356362333637363133630a303462663962653237353239636535
      66656234393161666433616430393664363332396463396334386535643435616664656238626365
      3234636331626664350a636463376234303130316634643835656231626632386131363365313162
      62373439323136623934336130356533306338353531636466343237396666633562
